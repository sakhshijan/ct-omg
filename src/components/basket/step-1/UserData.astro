---
import TextInput from "./TextInput.astro";
---

<div
  class="apply-profile-item-1 user-profile-input-wrapper top-0 flex w-full flex-col gap-5 overflow-hidden rounded-3xl border border-primary bg-white shadow-[0_0_30px_-10px] shadow-primary"
  id="user-data-wrapper"
>
  <div class="relative flex w-full flex-col gap-5 px-5 py-6 md:px-12">
    <div class="flex w-full items-center justify-center gap-3 md:justify-start">
      <button class="me-3 text-2xl text-gray-500" data-close-btn type="button">
        <i class="fa-regular fa-close"></i>
      </button>
      <i class="fa-regular fa-id-card-clip mb-1.5 text-2xl text-gray-500"></i>
      <h2 class="text-xl font-semibold text-primary">ثبت اطلاعات شناسایی</h2>
    </div>
    <div class="mb-5">
      <p class="text-justify font-semibold text-gray-500 md:font-light">
        لطفا اطلاعات شناسایی خود را وارد کنید. نام و نام خانوادگی شما باید با
        اطلاعاتی که وارد می‌کنید هم خوانی داشته باشند
      </p>
    </div>
    <div
      class="-me-2.5 grid max-h-96 min-h-[20rem] grid-cols-12 gap-5 gap-x-2 overflow-auto pe-2.5 md:-me-9 md:gap-x-5 md:pe-8"
    >
      <div class="col-span-12 md:col-span-6">
        <TextInput
          isRequired
          name="first_name"
          placeholder="نام خود را وارد کنید"
          label="نام"
          rules="required"
        />
      </div>
      <div class="col-span-12 md:col-span-6">
        <TextInput
          isRequired
          name="last_name"
          placeholder="نام خانوادگی خود را وارد کنید"
          label="نام خانوادگی"
          rules="required"
        />
      </div>

      <div class="col-span-12 md:col-span-6">
        <TextInput
          isRequired
          name="natinal_code"
          placeholder="کد ملی شما"
          label="کد ملی"
          maxLen="10"
          rules="size:10"
        />
      </div>
      <div class="col-span-12 md:col-span-6">
        <TextInput
          isRequired
          name="phone_number"
          placeholder="شماره تلفن شما"
          label="شماره تلفن"
          maxLen="11"
          rules="starts-with:09"
        />
      </div>
      <div class="col-span-7">
        <label class="relative flex w-full flex-col gap-2">
          <span class="ms-3 text-sm font-semibold">
            <span>تاریخ تولد</span>
            <sup class="font-medium text-red-600">*</sup>
          </span>
          <input
            data-rules="required"
            data-jdp
            data-jdp-max-date="1395/1/1"
            name="birth_date"
            class="h-11 w-full rounded-2xl border border-gray-200 bg-white px-3 text-gray-800 outline-1 outline-primary"
          />
          <span
            class="absolute bottom-0 left-0 top-7 flex h-11 w-12 items-center justify-center"
          >
            <i class="fa-regular fa-calendar-days text-gray-500"></i>
          </span>
        </label>
      </div>

      <div class="col-span-5 ps-4">
        <div class="flex h-full flex-col gap-2">
          <div class="text-sm font-semibold">جنسیت</div>
          <div class="relative flex w-full flex-1 select-none gap-5">
            <label class="relative flex items-center gap-2">
              <input
                name="gender"
                value="female"
                class="peer"
                hidden
                type="radio"
              />
              <span
                class="flex h-4 w-4 items-center justify-center rounded-full border border-primary after:absolute after:h-3 after:w-3 after:scale-0 after:rounded-full after:transition-all after:duration-100 peer-checked:after:scale-100 peer-checked:after:bg-primary"
              ></span>
              زن
            </label>
            <label class="relative flex items-center gap-2">
              <input
                checked
                name="gender"
                class="peer"
                value="male"
                hidden
                type="radio"
              />
              <span
                class="flex h-4 w-4 items-center justify-center rounded-full border border-primary after:absolute after:h-3 after:w-3 after:scale-0 after:rounded-full after:transition-all after:duration-100 peer-checked:after:scale-100 peer-checked:after:bg-primary"
              ></span>
              مرد
            </label>
          </div>
        </div>
      </div>
    </div>
    <div class="mt-5 flex">
      <button
        type="button"
        id="submit-btn"
        data-submit-lvl
        class="flex h-14 flex-1 items-center justify-center gap-5 rounded-full bg-primary pr-7 text-2xl font-semibold text-white"
      >
        بعدی
        <i class="fa-solid fa-arrow-left-long w-7"></i>
      </button>
    </div>
  </div>
</div>
<script>
  jalaliDatepicker.startWatch({
    showTodayBtn: false,
    showEmptyBtn: false,
    maxDate: "today",
  });
  const phoneInput = $('input[name="phone_number"]');
  const nationalCodeInput = $('input[name="national_code"]');
  nationalCodeInput.on("input", JustNumber);
  phoneInput.on("input", JustNumber);
</script>
